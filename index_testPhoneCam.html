<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>QR æ¸¬è©¦</title>
<script src="https://unpkg.com/html5-qrcode"></script>
<style>
#reader {
  width: 90vw;
  max-width: 400px;
  aspect-ratio: 1/1;
  margin: auto;
  border: 2px solid #00bcd4;
}
</style>
</head>
<body>

<h3 style="text-align:center;">ğŸ“· ç›¸æ©Ÿæ¸¬è©¦</h3>
<div id="reader"></div>
<p id="result" style="text-align:center;font-size:20px;"></p>

<script>
const html5QrCode = new Html5Qrcode("reader");

function startScan() {
  html5QrCode.start(
    { facingMode: "environment" },  
    { fps: 10, qrbox: 250 },
    (decodedText) => {

      document.getElementById("result").innerText = "æƒæçµæœ: " + decodedText;

      // åˆ¤æ–·æ˜¯å¦ç‚ºç¶²å€(å« HTTPS / HTTP)
      const urlPattern = /^https?:\/\/.+/i;
      if (urlPattern.test(decodedText)) {
        // é–‹æ–°åˆ†é 
        window.open(decodedText, "_blank");
      }

    }
  ).catch(err => {
    document.getElementById("result").innerText = "âŒ éŒ¯èª¤ï¼š" + err;
  });
}

startScan();
</script>
</body>
</html>
